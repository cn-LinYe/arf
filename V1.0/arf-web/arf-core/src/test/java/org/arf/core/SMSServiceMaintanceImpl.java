/*
 * Copyright 20015-2016 gzftop.com. All rights reserved.
 * Support: http://www.gzftop.com
 * License: http://www.gzftop.com/license
 */
package org.arf.core;

import java.util.Date;

import org.apache.commons.lang.StringUtils;
import org.apache.commons.lang.time.DateFormatUtils;
import org.springframework.util.Assert;

import com.arf.core.Setting;
import com.arf.core.util.HttpSender;
import com.arf.core.util.SettingUtils;

import cn.emay.sdk.client.api.Client;

/**
 * Service - 短信
 * 
 * @author 广智发 Team
 * @version 4.0
 */
public class SMSServiceMaintanceImpl{
	/**
	 * 发送短信
	 * 
	 * @param mobiles
	 *            手机号码
	 * @param content
	 *            内容
	 * @param sendTime
	 *            发送时间
	 */
	private void send(String[] mobiles, String content, Date sendTime) {
		Assert.notEmpty(mobiles);
		Assert.hasText(content);

		Setting setting = SettingUtils.get();
		String smsSn = setting.getSmsSn();
		String smsKey = setting.getSmsKey();
		if (StringUtils.isEmpty(smsSn) || StringUtils.isEmpty(smsKey)) {
			return;
		}
		try {
			Client client = new Client(smsSn, smsKey);
			if (sendTime != null) {
				client.sendScheduledSMS(mobiles, content, DateFormatUtils.format(sendTime, "yyyyMMddhhmmss"));
			} else {
				client.sendSMS(mobiles, content, 5);
			}
		} catch (Exception e) {
			throw new RuntimeException(e.getMessage(), e);
		}
	}

	public void send(String[] mobiles, String content, Date sendTime, boolean async) {
		Assert.notEmpty(mobiles);
		Assert.hasText(content);
		sendMessage(mobiles, content, sendTime);
//		if (async) {
//			addSendTask(mobiles, content, sendTime);
//		} else {
//			send(mobiles, content, sendTime);
//		}
	}
	/**
	 * 新发送短信接口
	 */
	public void sendMessage(String[] mobiles, String content, Date sendTime){
//	    String uri = "http://222.73.117.158/msg/main.do";// 应用地址
	    String uri = "http://222.73.117.156/msg/index.jsp";// 应用地址
        String account = "ARFZN888";// 账号
        String pswd = "Admin888";// 密码
        String ms="";
        for(int i=0;i<mobiles.length;i++){
            ms+=mobiles[i];
            if(i<mobiles.length-1){
                ms+=",";
            }
        }
        boolean needstatus = true;// 是否需要状态报告，需要true，不需要false
        String product="";// 产品ID
        String extno="";// 扩展码
        try {
            String returnString = HttpSender.batchSend(uri, account, pswd, ms, content, needstatus, product, extno);
            System.out.println(returnString);
            // TODO 处理返回值,参见HTTP协议文档
        } catch (Exception e) {
            // TODO 处理异常
            e.printStackTrace();
        }
	}


	public void send(String mobile, String content) {
		Assert.hasText(mobile);
		Assert.hasText(content);

		send(new String[] { mobile }, content, null, true);
	}


	public long getBalance() {
		Setting setting = SettingUtils.get();
		String smsSn = setting.getSmsSn();
		String smsKey = setting.getSmsKey();
		if (StringUtils.isEmpty(smsSn) || StringUtils.isEmpty(smsKey)) {
			return -1L;
		}
		try {
			Client client = new Client(smsSn, smsKey);
			double result = client.getBalance();
			if (result >= 0) {
				return (long) (result * 10);
			}
		} catch (Exception e) {
		}
		return -1L;
	}

//	public static void main(String[] args) throws SQLException, ClassNotFoundException, InterruptedException {
//		final String content = "海伦堡物业于2016年9月12日18:30-21:30在三期商业广场举办中秋晚会，诚邀广大业主参加。【花样年华物业服务中心13711214219】";
//		
//		final String communityNo = "510108004";
////		final String[] communityNos = new String[]{
////				//"5001071009",
////				"5001031015","5001071012","5001030001","5001131004","5001071015"
////		};
//		
//		 final String JDBC_DRIVER = "com.mysql.jdbc.Driver";
//
//		 final String DB_URL_NEW = "jdbc:mysql://rds91e185m438o1dm3y5public.mysql.rds.aliyuncs.com/anerfa_ecc_system?useUnicode=true&characterEncoding=UTF-8";
////		static final String DB_URL_OLD = "jdbc:mysql://rds91e185m438o1dm3y5public.mysql.rds.aliyuncs.com/ssaac?useUnicode=true&characterEncoding=UTF-8";
//
//		// 新系统DB用户
//		 final String USER_NEW = "sshredis";
//		 final String PASS_NEW = "arf_06120717";
//
//		// 老系统DB用户
//		// final String USER_OLD = "anerfa";
//		// final String PASS_OLD = "anerfa1688";
//		 
//		 Class.forName("com.mysql.jdbc.Driver");
//		System.out.println("Connecting to database...");
//		final SMSServiceMaintanceImpl s = new SMSServiceMaintanceImpl();
//		final Connection conn = DriverManager.getConnection(DB_URL_NEW, USER_NEW, PASS_NEW);;
//		Statement stmt = null;
//		String usersSql = "select username from xx_member where community_number = '"+communityNo+"' and username is not null and username <>''";
//		stmt = conn.createStatement();
//		ResultSet rs = stmt.executeQuery(usersSql);
//		final ConcurrentHashSet<String> set = new ConcurrentHashSet<String>();
//		int c = 0;
//		final List<String> userNames = new ArrayList<String>();
//		while (rs.next()) {
//			String username = rs.getString("username");
//			userNames.add(username);
//			c = c + 1;
//		}
//		
//		userNames.clear();
//		
//		userNames.addAll(Arrays.asList(new String[]{
//				"13611439933",
//				"13602781028",
//				"13809721200",
//				"13802407861",
//				"13809201301",
//				"13763300103",
//				"13632455032",
//				"13763348957",
//				"13332857666",
//				"13527726288",
//				"15102033140",
//				"13710981145",
//				"13302395283",
//				"15013039918",
//				"13928826161",
//				"13434204243",
//				"13809206318",
//				"13710444839",
//				"13928792092",
//				"13710557718",
//				"13928798024",
//				"13622864582",
//				"13922340881",
//				"13729882245",
//				"13609070629",
//				"13922783811",
//				"13600479215",
//				"13902388208",
//				"13922244439",
//				"18680587880",
//				"13668978787",
//				"13560200788",
//				"13070233712",
//				"13928759600",
//				"18617357383",
//				"13640329326",
//				"13710327877",
//				"13560440059",
//				"13560440059",
//				"13570356613",
//				"15814872458",
//				"13928861808",
//				"13711030380",
//				"13602273344",
//				"13826217389",
//				"13535283338",
//				"13678914561",
//				"13711031100",
//				"18922792932",
//				"13543401077",
//				"13724827793",
//				"13424059720",
//				"15012517945",
//				"18002284355",
//				"13922163890",
//				"1591580120",
//				"13719388599",
//				"13427593567",
//				"13902381045",
//				"13711032898",
//				"13710552088",
//				"13609078703",
//				"18925084000",
//				"13711015835",
//				"13711142850",
//				"13609073216",
//				"15622211985",
//				"15360533575",
//				"13602264990",
//				"15360861293",
//				"13434232934",
//				"13725116775",
//				"13424017563",
//				"18665631790",
//				"18820029297",
//				"13724176566",
//				"13392629662",
//				"13710776916",
//				"13802833456",
//				"13527767988",
//				"13556112186",
//				"13928870727",
//				"13642711386",
//				"18666023911",
//				"15913119766",
//				"13711317388",
//				"13068880088",
//				"13450275228",
//				"13929588196",
//				"18928791909",
//				"13602433361",
//				"13928820109",
//				"13632413430",
//				"13928873337",
//				"13902385725",
//				"13054490345",
//				"15102046618",
//				"13802833320",
//				"13802833320",
//				"13672463366",
//				"13570402074",
//				"13928838093",
//				"18620676511",
//				"13590744442",
//				"13719100585",
//				"13902381275",
//				"13602286657",
//				"18928833027",
//				"13928811045",
//				"13631431202",
//				"13535354991",
//				"13751768688",
//				"13602292743",
//				"13826112222",
//				"13922342374",
//				"13729833816",
//				"13430368673",
//				"13632292011",
//				"13580442888",
//				"13711328983",
//				"13688878082",
//				"18680470345",
//				"13902383625",
//				"13450447506",
//				"13826100548",
//				"13527846889",
//				"13609012413",
//				"13533560416",
//				"13922325138",
//				"13434148884",
//				"13600036084",
//				"13724067375",
//				"13711311442",
//				"13928776784",
//				"13535470715",
//				"13682250168",
//				"13928722950",
//				"13316080958",
//				"13622854298",
//				"13922312128",
//				"13802905144",
//				"13138469021",
//				"13527702823",
//				"13318890772",
//				"13711020052",
//				"13660351653",
//				"13600025518",
//				"13928707751",
//				"13423645288",
//				"13580592619",
//				"15917439625",
//				"13501476850",
//				"13751709032",
//				"13316183237",
//				"13066308884",
//				"13570253926",
//				"13711421366",
//				"18026303647",
//				"13435616077",
//				"18988939128",
//				"13710618493",
//				"13711111243",
//				"18922781331",
//				"13058418600",
//				"13711198989",
//				"13602268118",
//				"13500256356",
//				"13662433338",
//				"13809243344",
//				"13609067766",
//				"13416200334",
//				"13622859288",
//				"15915747847",
//				"13809205463",
//				"13928816833",
//				"13711327622",
//				"13560070188",
//				"13527600308",
//				"13070270627",
//				"13318892535",
//				"18664700084",
//				"13060963955",
//				"13527778808",
//				"13602290600",
//				"15577447959",
//				"13710571856",
//				"13902388194",
//				"13928826999",
//				"13066376866",
//				"13913090095",
//				"13711475525",
//				"13680062801",
//				"13798087776",
//				"13332866617",
//				"18826424484",
//				"18923212371",
//				"13527731698",
//				"13380009295",
//				"13710411111",
//				"13631334174",
//				"13719169819",
//				"13316199173",
//				"13809207727",
//				"13928732266",
//				"13600037883",
//				"13928726828",
//				"13602283201",
//				"13802840363",
//				"13725147298",
//				"13802840363",
//				"13725147298",
//				"13802513918",
//				"13928808304",
//				"13711055622",
//				"13059139888",
//				"13059139888",
//				"13380008956",
//				"18617351613",
//				"13602297718",
//				"13570710618",
//				"13688891658",
//				"13809209810",
//				"13922705599",
//				"13922321895",
//				"13609073562",
//				"13246436683",
//				"13632230909",
//				"13609066085",
//				"13602288401",
//				"13602288401",
//				"13808868175",
//				"13060626982",
//				"13060626982",
//				"13826000950",
//				"13922332298",
//				"13928826021",
//				"13928888628",
//				"13725356095",
//				"13560005400",
//				"13902388520",
//				"13922327677",
//				"18011902007",
//				"13602886351",
//				"13802832578",
//				"13928760233",
//				"13609064836",
//				"13602279333",
//				"13312807321",
//				"13922334172",
//				"13609065688",
//				"13318891728",
//				"13602290408",
//				"13711000981",
//				"13725257432",
//				"13809206750",
//				"13809206750",
//				"13316209228",
//				"13711030888",
//				"13501488049",
//				"13602276863",
//				"13500031552",
//				"13535399631",
//				"13609068138",
//				"13902383758",
//				"13570712861",
//				"13928751880",
//				"13928717880",
//				"13922311266",
//				"18988833007",
//				"13600030333",
//				"15819733666",
//				"13527777398",
//				"18929532121",
//				"13602282916",
//				"13760703199",
//				"13922331221",
//				"13902389980",
//				"13600021900",
//				"13928833278",
//				"13725208004",
//				"13600037933",
//				"13301222500",
//				"13711306311",
//				"13609019959",
//				"13600035420",
//				"13602268885",
//				"13302380188",
//				"13660178511",
//				"13802834095",
//				"13602263618",
//				"13533183198",
//				"13580477077",
//				"13928788250",
//				"13501488071",
//				"18002257800",
//				"13512746816",
//				"15802036608",
//				"13068839808",
//				"13798081009",
//				"13710930333",
//				"13719100022",
//				"13660292598",
//				"13533883368",
//				"13600022221",
//				"13312806361",
//				"13318800663",
//				"13826453265",
//				"13923097778",
//				"13416413282",
//				"13928831322",
//				"13928831322",
//				"13902383701",
//				"13711315278",
//				"15989022811",
//				"13609678215",
//				"13802845319",
//				"13928796028",
//				"13822164941",
//				"13622863838",
//				"13922332231",
//				"13570301334",
//				"13602284168",
//				"13802846169",
//				"13600022112",
//				"13178800817",
//				"13694228948",
//				"13809200700",
//				"13602288503",
//				"13922336962",
//				"13539945555",
//				"15918714047",
//				"13318270638",
//				"13802833616",
//				"13928798209",
//				"13631396966",
//				"13076777142",
//				"13925167928",
//				"13928876819",
//				"13602275647",
//				"13802857126",
//				"13711338668",
//				"13622863338",
//				"13602277266",
//				"18902330086",
//				"13928770332",
//				"13600028682",
//				"13809203799",
//				"13682291833",
//				"13809207980",
//				"18002246262",
//				"13922349991",
//				"13928866361",
//				"13600020978",
//				"13711329098",
//				"13725155776",
//				"13602277583",
//				"13922333572",
//				"13710559118",
//				"13560050766",
//				"13928828033",
//				"13922307163",
//				"13527779343",
//				"13928796028",
//				"13922419966",
//				"13928818842",
//				"13928722020",
//				"13416409688",
//				"13826019282",
//				"13928762088",
//				"18922426708",
//				"13968739039",
//				"13538729542",
//				"13302200455",
//				"13802773602",
//				"13512738257",
//				"13924105333",
//				"13527600373",
//				"13928822182",
//				"13662520156",
//				"1376088696",
//				"13725318897",
//				"13609065162",
//				"13802832619",
//				"13392466711",
//				"13503008238",
//				"13902380838",
//				"15920833558",
//				"13544480822",
//				"13922312128",
//				"13809207290",
//				"13928812166",
//				"13922309322",
//				"13710932627",
//				"13480218020",
//				"13975062333",
//				"13719092233",
//				"13802843735",
//				"13138633337",
//				"13902386313",
//				"13533072084",
//				"13602263066",
//				"13660708918",
//				"18028697761",
//				"13798088068",
//				"13809246906",
//				"13066303454",
//				"13809212929",
//				"13802547113",
//				"13640676059",
//				"13622281868",
//				"13265999555",
//				"13480265802",
//				"13316295908",
//				"13922327128",
//				"13928755286",
//				"13928882152",
//				"13640632406",
//				"13600030007",
//				"13710661918",
//				"13570711166",
//				"13719136611",
//				"13794385855",
//				"18688858116",
//				"13602271383",
//				"13802844831",
//				"13600033902",
//				"13928728607",
//				"13711306283",
//				"13538715484",
//				"13140069999",
//				"13118867631",
//				"13501480777",
//				"13059111447",
//				"13711310128",
//				"13825071877",
//				"13928801010",
//				"13928722317",
//				"13600033360",
//				"13068867585",
//				"13809207028",
//				"13602471085",
//				"13539831955",
//				"13802970454",
//				"13302306608",
//				"13560052998",
//				"13527765465",
//				"13711300913",
//				"13808860707",
//				"13602274245",
//				"13928869033",
//				"18665044128",
//				"13711317111",
//				"13922310889",
//				"13533309530",
//				"13602274971",
//				"13434177871",
//				"15989031391",
//				"13760787188",
//				"13710419997",
//				"13527821320",
//				"13602299759",
//				"13570713293",
//				"13826473398",
//				"18027380319",
//				"13826473398",
//				"13902386514",
//				"13928819238",
//				"13928870047",
//				"13711421838",
//				"13632276528",
//				"13926165126",
//				"13711508114",
//				"13902387808",
//				"13609079395",
//				"18202064333",
//				"13392696092",
//				"13682280242",
//				"13178811228",
//				"13060999199",
//				"13928874885",
//				"13928847823",
//				"13711181224",
//				"13650770333",
//				"13928852336",
//				"13809202802",
//				"18820091986",
//				"13424004818",
//				"13660034222",
//				"13724018923",
//				"13570709086",
//				"13928868608",
//				"13676254212",
//				"13070252970",
//				"15017500576",
//				"13060833448",
//				"13760650889",
//				"13928816007",
//				"13822137772",
//				"13711306226",
//				"13926271333",
//				"15011928598",
//				"13501473333",
//				"13826408227",
//				"13802835080",
//				"13602269688",
//				"13602400009",
//				"13600034560",
//				"13923093737",
//				"13928769045",
//				"13316257762",
//				"13392123822",
//				"13928876928",
//				"13424013350",
//				"18022340830",
//				"13178822399",
//				"13609062511",
//				"13711320578",
//				"13580452668",
//				"18927574407",
//				"13902381478",
//				"13711335512",
//				"13424143333",
//				"13809200299",
//				"13809203822",
//				"18925035215",
//				"13922337331",
//				"13682295152",
//				"13527737677",
//				"13928830899",
//				"13711009813",
//				"13922664555",
//				"15989288101",
//				"13728039614",
//				"13902396944",
//				"13902382827",
//				"13570703300",
//				"13660290088",
//				"13560087108",
//				"13928828522",
//				"13928876683",
//				"13922332933",
//				"13432068637",
//				"13902384298",
//				"13725141313",
//				"13802837314",
//				"13600029184",
//				"13809243632",
//				"13660133805",
//				"13533772769",
//				"13609065383",
//				"13719496619",
//				"15013289844",
//				"13922317710",
//				"13570703311",
//				"13602275466",
//				"15988820614",
//				"13929598842",
//				"13928845551",
//				"18922704081",
//				"13719319988",
//				"13928881551",
//				"13922338801",
//				"13710790830",
//				"13902388677",
//				"13940896673",
//				"13316182888",
//				"13809245362",
//				"13580335085",
//				"13923090808",
//				"13602271422",
//				"13501484497",
//				"13823450888",
//				"13450450276",
//				"13928817337",
//				"13602263392",
//				"15902095518",
//				"13928810298",
//				"13922326455",
//				"13602268820",
//				"13822992190",
//				"13923094456",
//				"13802849089",
//				"13602400001",
//				"13809201365",
//				"13533766368",
//				"13631386795",
//				"13928829889",
//				"13600038186",
//				"13711324600",
//				"13609665027",
//				"13725288229",
//				"13668965388",
//				"13640314788",
//				"13535556599",
//				"13434171511",
//				"13543406222",
//				"13710509578",
//				"13802830606",
//				"13602296260",
//				"13711007662",
//				"13610291688",
//				"13809204241",
//				"13809242218",
//				"1333285358",
//				"13711321271",
//				"13929510471",
//				"13711322418",
//				"13602278280",
//				"13710770008",
//				"13711315278",
//				"13570969955",
//				"13609076230",
//				"13392696069",
//				"13809209778",
//				"13543428113",
//				"13710563464",
//				"13922315238",
//				"13602269633",
//				"13609063222",
//				"13719120296",
//				"13826410271",
//				"13501476729",
//				"18922720713",
//				"13928784780",
//				"18028672237",
//				"13602279895",
//				"18688860727",
//				"13802830614",
//				"13802831413",
//				"13802761137",
//				"15913168005",
//				"13809208628",
//				"13602280433",
//				"13416194529",
//				"13928884673",
//				"15918709145",
//				"13719038166",
//				"13392125112",
//				"13798520081",
//				"13711008145",
//				"13533076857",
//				"13798520081",
//				"13711338188",
//				"13809207261",
//				"18974893785",
//				"13602277761",
//				"13724828149",
//				"13501483396",
//				"13538787822",
//				"13724828149",
//				"13710782491",
//				"13609072424",
//				"13650899886",
//				"13710444363",
//				"13809203022",
//				"13711339915",
//				"7533373800",
//				"13928848379",
//				"13570701360",
//				"13928880123",
//				"13928882661",
//				"13928791277",
//				"13802845752",
//				"13602266130",
//				"13710077188",
//				"13430369254",
//				"13580556368",
//				"13711736424",
//				"13809206001",
//				"13710401080",
//				"13539912688",
//				"13662370097",
//				"13602274299",
//				"13802841933",
//				"13602264008",
//				"13902387963",
//				"13068832363",
//				"13923097973",
//				"13535507613",
//				"13544549635",
//				"13609066963",
//				"13922338912",
//				"13760662120",
//				"13060660456",
//				"13710799282",
//				"13922346181",
//				"13602882588",
//				"1392870368",
//				"13711732089",
//				"13922339292",
//				"13802834869",
//				"13600026818",
//				"13928799899",
//				"13928855422",
//				"15918466128",
//				"13602280860",
//				"13922329750",
//				"13543418877",
//				"13902383703",
//				"13902388677",
//				"13480225929",
//				"13570343789",
//				"13660607893",
//				"13802841118",
//				"13928766622",
//				"13600025866",
//				"18926220001",
//				"13533507077",
//				"13533507077",
//				"13719243779",
//				"13501484336",
//				"13312806311",
//				"13527808279",
//				"13503068321",
//				"15820466485",
//				"13922341273",
//				"13710609855",
//				"13600030114",
//				"13922333331",
//				"13660005557",
//				"13928758458",
//				"13602293332",
//				"13609078688",
//				"13078890585",
//				"13178825251",
//				"13544586121",
//				"13710778888",
//				"13725261552",
//				"13809208868",
//				"13798091182",
//				"13711737348",
//				"13586296060",
//				"13928778338",
//				"15920834891",
//				"13928227814",
//				"13751755563",
//				"13760670786",
//				"13416269325",
//				"13711155546",
//				"13926464413",
//				"13312806280",
//				"13711038503",
//				"18666089300",
//				"13060623019",
//				"13925000567",
//				"13725320596",
//				"13544553300",
//				"13682271761",
//				"13570702320",
//				"13560181491",
//				"13392481466",
//				"15816882933",
//				"13622297115",
//				"13602271685",
//				"13924169199",
//				"13928811698",
//				"13688860663",
//				"13694227209",
//				"13602263901",
//				"13602264786",
//				"13602264786",
//				"13600023760",
//				"13660178822",
//				"13609077333",
//				"13609076300",
//				"13602278005",
//				"13928834883",
//				"13928799383",
//				"13809249897",
//				"13600028383",
//				"13660680789",
//				"13902563814",
//				"13450378288",
//				"18926227673",
//				"13302228218",
//				"13622242460",
//				"13719296456",
//				"13570286807",
//				"13560064933",
//				"13923099668",
//				"15920331421",
//				"13539855263",
//				"18011981383",
//				"18621583445",
//				"13802543068",
//				"13631390998",
//				"13318834209",
//				"13632424386",
//				"13533309189",
//				"13416337688",
//				"13631396966",
//				"13570282525",
//				"13512724688",
//				"13660271429",
//				"13902389566",
//				"13902381239",
//				"13724828800",
//				"13760776836",
//				"18902258188",
//				"13928898380",
//				"13602263216",
//				"18926220001",
//				"13828457766",
//				"13928811404",
//				"13560362238",
//				"13570557441",
//				"15917375608",
//				"13711337001",
//				"13926687188",
//				"13725139138",
//				"13928760081",
//				"13560232020",
//				"13928808321",
//				"13501470713",
//				"13632472183",
//				"13802918328",
//				"13922421570",
//				"13632484532",
//				"18922720333",
//				"13632366770",
//				"13924161191"
//		}));
//		
//		
//		final CountDownLatch conter = new CountDownLatch(c);
//		for(int i=0;i<userNames.size();i++){
//			final String username = userNames.get(i);
//			new Thread(new Runnable() {
//				
//				@Override
//				public void run() {
//					try {
//						Thread.sleep(Integer.valueOf(RandomStringUtils.randomNumeric(1)) * 1000);
//						set.add(sendAll(username,content,""));
//					} catch (NumberFormatException | InterruptedException e) {
//						e.printStackTrace();
//					}catch (Exception e) {
//						e.printStackTrace();
//					}finally {
//						conter.countDown();
//					}
//				}
//			}).start();
//		}
//		
//		
//		conter.await();
//		int i=0;
//		for (String str : set) {
//			System.out.println(i+"------>"+str);
//			i++;
//		}
//	}
	
	
	public static void main(String[] args) {
		sendAll("13242034701","cejskd","");
	}
	
	//@Override
	public static String sendAll(String mobile, String contents,String s) {
		if (StringUtils.isBlank(mobile)||StringUtils.isBlank(contents)) {
			return mobile+"--->";
		}

//		String uri = "http://222.73.117.158/msg/main.do";// 应用地址
		String uri = "http://222.73.117.156/msg/index.jsp";// 应用地址
		String account = "ARFZN888";// 账号
		String pswd = "Admin888";// 密码
		String mobiles = mobile;// 手机号码，多个号码使用","分割
		String content =   contents ;// 短信内容
		boolean needstatus = true;// 是否需要状态报告，需要true，不需要false
		String product = "";// 产品ID
		String extno = "";// 扩展码
		try {
			String returnString = HttpSender.send(uri, account, pswd, mobiles, content, needstatus, product, extno);
			System.out.println(returnString);
		} catch (Exception e) {
			e.printStackTrace();
		}
		try {
			String returnString = HttpSender.batchSend(uri, account, pswd, mobiles, content, needstatus, product,extno);
			System.out.println(returnString);
			return mobile+"--->"+returnString;
		} catch (Exception e) {
			// TODO 处理异常
			e.printStackTrace();
			return mobile+"--->";
		}
	
		
	}

}