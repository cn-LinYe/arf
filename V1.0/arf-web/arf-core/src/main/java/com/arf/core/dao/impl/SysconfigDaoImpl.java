package com.arf.core.dao.impl;import java.util.List;import org.apache.commons.collections.CollectionUtils;import org.springframework.stereotype.Repository;import com.arf.core.dao.SysconfigDao;import com.arf.core.entity.Sysconfig;/** * Dao - 系统配置表 *  * @author arf * @version 4.0 */@Repository("sysconfigDaoImpl")public class SysconfigDaoImpl extends BaseDaoImpl<Sysconfig, Long> implements SysconfigDao {    @Override    public Sysconfig getValueByName(String name) {    	        String hql="select sysc from Sysconfig sysc where sysc.parmname=:parmname";        List<Sysconfig> records = this.entityManager.createQuery(hql, Sysconfig.class).setParameter("parmname", name).getResultList();		if(CollectionUtils.isEmpty(records)){			return null;		}else{			return records.get(0);		}    }        @Override    @Deprecated    public Sysconfig getValueByName(String name,String defvalue,String defdesc) {        String hql="select sysc from Sysconfig sysc where sysc.parmname=:parmname";        List<Sysconfig> list=entityManager.createQuery(hql, Sysconfig.class).setParameter("parmname", name).getResultList();        Sysconfig sysconfig=null;        if(list.isEmpty()){            sysconfig=new Sysconfig();            sysconfig.setParmname(name);            sysconfig.setParmvalue(defvalue);            sysconfig.setParmdesc(defdesc);            this.persist(sysconfig);        }else{            sysconfig=list.get(0);        }        return sysconfig;    }	@Override	public List<Sysconfig> getAllValue() {		String hql="select sysc from Sysconfig sysc";		return this.entityManager.createQuery(hql, Sysconfig.class).getResultList();	}	@Override	public List<Sysconfig> getValueByParent(String parentname) {		String hql="select sysc from Sysconfig sysc where sysc.parentname=:parentname";		return this.entityManager.createQuery(hql, Sysconfig.class).setParameter("parentname", parentname).getResultList();	}}